# 테스트 가이드

## 🎮 듀얼 입력 시스템

앱에는 두 가지 이미지 입력 방법이 있습니다:

### 1. 📸 파란색 버튼 (카메라 촬영)
- **용도:** 실제 게임 플레이 (현장 촬영)
- **동작:** 모바일에서 후면 카메라 직접 실행
- **위치:** 우측 하단 (위쪽 버튼)

### 2. 🖼️ 보라색 버튼 (갤러리 선택)
- **용도:** 테스트 및 파일 업로드
- **동작:** 갤러리/파일 선택 창 열기
- **위치:** 우측 하단 (아래쪽 버튼)

---

## 💻 랩톱/데스크톱 테스트

### 권장: 보라색 버튼 (갤러리 선택) 사용

1. **테스트 이미지 준비**
   ```
   아무 이미지 파일 3개 준비
   이름 변경:
   - clue1.jpg (단서 1)
   - clue2.png (단서 2)
   - clue3.jpg (단서 3)
   ```

2. **이미지 업로드**
   - 🖼️ 보라색 버튼 클릭
   - `clue1.jpg` 선택
   - **미리보기 화면이 표시됩니다** ✅
   - [이 사진으로 분석하기] 버튼 클릭
   - 분석 결과 확인

3. **예상 결과**
   - **단서 1:** "작업복의 왼쪽 소매와 주머니에 물감이..."
   - **단서 2:** "피해자는 오른손에 붓을 쥐고 있습니다..."
   - **단서 3:** "터펜타인은 유화물감 희석제입니다"

### 파란색 버튼도 작동하나요?
네! 랩톱에서도 파일 선택이 가능하지만, 일부 브라우저에서는 동작이 다를 수 있습니다.
**권장: 보라색 버튼 사용**

---

## 📱 모바일 테스트

### 실제 촬영: 파란색 버튼 (카메라)

1. **모바일에서 앱 접속**
   ```
   http://172.30.1.8:3000
   ```

2. **현장 촬영**
   - 📸 파란색 버튼 탭
   - 후면 카메라 자동 실행
   - 사진 촬영
   - 미리보기 화면
   - [이 사진으로 분석하기] 탭

### 테스트 이미지: 보라색 버튼 (갤러리)

1. **갤러리에서 선택**
   - 🖼️ 보라색 버튼 탭
   - 갤러리 열림
   - 테스트 이미지 선택 가능 ✅
   - 미리보기 화면
   - [이 사진으로 분석하기] 탭

2. **테스트 이미지 준비 방법**
   - 모바일에 `clue1.jpg`, `clue2.png`, `clue3.jpg` 저장
   - 또는 카카오톡/이메일로 전송받기
   - 갤러리에서 선택

---

## 🎯 전체 테스트 시나리오

### 시나리오 1: 랩톱에서 전체 게임 플레이

```
1. http://localhost:3000 접속
2. 스플래시 → 튜토리얼
3. [사건] 버튼 → 사건 정보 확인
4. [용의자] 버튼 → 용의자 확인
5. 🖼️ 보라색 버튼 → clue1.jpg 선택 → 분석
6. 🖼️ 보라색 버튼 → clue2.png 선택 → 분석
7. 🖼️ 보라색 버튼 → clue3.jpg 선택 → 분석
8. [🎯 최종 추리 제출하기] 버튼 클릭
9. 범인: 이영희, 동기 입력, 증거 선택
10. 🎉 결과 확인
```

### 시나리오 2: 모바일에서 실제 촬영

```
1. http://172.30.1.8:3000 접속
2. 튜토리얼 완료
3. 📸 파란색 버튼 → 카메라 촬영
4. 현장 물건 촬영 (실제 게임 플레이)
5. 분석 결과 확인
6. 여러 개 촬영
7. 추리 제출
```

### 시나리오 3: 모바일에서 테스트

```
1. 테스트 이미지를 모바일에 저장
2. 🖼️ 보라색 버튼 → 갤러리 선택
3. clue1.jpg 선택 → 분석
4. 결과 확인
```

---

## 🔍 미리보기 화면 설명

이미지를 선택하면 **전체 화면 미리보기**가 표시됩니다:

```
┌─────────────────────────────┐
│                             │
│      [선택한 이미지]         │
│                             │
│                             │
└─────────────────────────────┘
┌─────────────────────────────┐
│ [이 사진으로 분석하기]      │  ← 파란색 버튼
│ [다시 촬영하기]             │  ← 회색 버튼
└─────────────────────────────┘
```

### 버튼 설명:
- **[이 사진으로 분석하기]:** AI 분석 진행 → 결과 표시
- **[다시 촬영하기]:** 취소 → 갤러리 다시 열기

---

## 🐛 문제 해결

### Q: 랩톱에서 미리보기가 안 나타나요
**A:** 보라색 버튼(갤러리)을 사용하세요. 파란색 버튼은 모바일에 최적화되어 있습니다.

### Q: 모바일에서 갤러리를 열고 싶어요
**A:** 보라색 버튼을 사용하세요. 카메라 대신 갤러리가 열립니다.

### Q: 파일 선택 후 아무 일도 안 일어나요
**A:** 
1. 브라우저 콘솔 확인 (F12)
2. 이미지 파일 타입 확인 (jpg, png, gif, webp)
3. 파일 크기 확인 (10MB 이하)

### Q: "이미지 처리 중 오류" 메시지가 나와요
**A:**
1. 이미지 파일이 손상되지 않았는지 확인
2. 다른 이미지로 테스트
3. 브라우저 캐시 삭제 후 재시도

---

## 📊 테스트 모드 작동 확인

### 브라우저 콘솔 로그 (F12 → Console)

이미지 업로드 시 다음 로그가 표시되어야 합니다:

```
이미지 수신: clue1.jpg, 크기: 245678 bytes, 타입: image/jpeg
원본 크기: 240 KB → 최적화: 185 KB
🎮 테스트 모드 활성화
📝 테스트: CLUE_01 (왼쪽 소매 물감) 반환
```

### 정상 작동 확인:
- ✅ "🎮 테스트 모드 활성화" 로그
- ✅ "📝 테스트: CLUE_XX" 로그
- ✅ 미리보기 화면 표시
- ✅ 분석 결과 표시

---

## 🎨 버튼 색상 의미

| 색상 | 용도 | 아이콘 |
|------|------|--------|
| 🔵 **파란색** | 카메라 촬영 (실제 게임) | 📸 |
| 🟣 **보라색** | 갤러리 선택 (테스트) | 🖼️ |

---

## 💡 팁

### 랩톱 테스트 시:
- ✅ 보라색 버튼 사용
- ✅ 파일명에 clue1, clue2, clue3 포함
- ✅ 브라우저 콘솔 열어두고 로그 확인

### 모바일 게임 플레이 시:
- ✅ 파란색 버튼으로 현장 촬영
- ✅ 보라색 버튼으로 갤러리 이미지 선택 가능

### 빠른 테스트:
- ✅ 보라색 버튼만 사용
- ✅ 같은 이미지 여러 번 업로드 가능
- ✅ 랜덤 결과를 원하면 파일명에 test만 포함

---

## ✅ 체크리스트

### 랩톱 테스트:
- [ ] 보라색 버튼 클릭
- [ ] 파일 선택 창 열림
- [ ] clue1.jpg 선택
- [ ] 미리보기 화면 표시
- [ ] [이 사진으로 분석하기] 버튼 보임
- [ ] 분석 결과 표시

### 모바일 테스트:
- [ ] 파란색 버튼 → 카메라 실행
- [ ] 보라색 버튼 → 갤러리 열림
- [ ] 이미지 선택 가능
- [ ] 미리보기 화면 정상 작동
- [ ] 분석 결과 표시

---

## 🎯 결론

**듀얼 입력 시스템으로 두 가지 문제 모두 해결!**

1. ✅ 랩톱: 보라색 버튼으로 파일 선택 → 미리보기 → 분석
2. ✅ 모바일: 두 버튼 모두 사용 가능 (카메라 / 갤러리)
3. ✅ 테스트: 언제든 갤러리에서 테스트 이미지 선택 가능
4. ✅ 게임: 실제 현장에서 카메라로 촬영 가능

---

**문제가 있으면 이 가이드를 참고하세요!** 😊

